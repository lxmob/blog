<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cookie封装</title>
  </head>
  <body></body>
  <script>
    var manageCookie = {
      get: function (key, cb) {
        var cookieList = document.cookie.split("; "),
          cookieItem = null,
          len = cookieList.length;

        for (var i = 0; i < len; i++) {
          var cookieItem = cookieList[i].split("=");
          cookieItem[0] === key ? cb(cookieItem[1]) : cb(undefined);
        }
        return this;
      },
      set: function (key, value, expires) {
        document.cookie = key + "=" + value + ";max-age=" + expires;
        return this;
      },
      delete: function (key) {
        return this.set(key, "", -1);
      },
    };

    manageCookie
      .set("name", "test", 1000)
      .set("function", "callback", 1000)
      .delete("function")
      .get("name", console.log);
  </script>
</html>
