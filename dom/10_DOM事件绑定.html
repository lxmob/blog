<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>domäº‹ä»¶</title>
  </head>
  <body>
    <button id="btn" style="margin-bottom: 20px">è§¦å‘äº‹ä»¶</button>
  </body>

  <!-- 
    äº‹ä»¶æ˜¯DOMå…ƒç´ èº«ä¸Šæœ¬èº«é»˜è®¤å°±æœ‰çš„
    é€šè¿‡ç»‘å®šäº‹ä»¶å¤„ç†å‡½æ•°ï¼ˆäº‹ä»¶åé¦ˆï¼‰æ¥å®ç°å‰ç«¯çš„æ ¸å¿ƒï¼Œå°±æ˜¯å‰ç«¯äº¤äº’ä½“éªŒ
  -->
  <script>
    var btnEl = document.getElementById("btn");
  </script>

  <!-- 
    onclick å¥æŸ„çš„å½¢å¼
    ä¼˜ç‚¹å…¼å®¹æ€§å¥½
    ç¼ºç‚¹æ— æ³•ä¸ºå…ƒç´ äº‹ä»¶ç»‘å®šå¤šä¸ªå¤„ç†å‡½æ•°
   -->
  <script>
    btnEl.onclick = function () {
      console.log("onclick1", this);
    };
    btnEl.onclick = function () {
      console.log("onclick2", this);
    };

    // btnEl.onclick = null / false
  </script>

  <!-- 
    addEventListener(event, fn, false) 
    ä¼˜ç‚¹å¯ä»¥ç»‘å®šå¤šä¸ªäº‹ä»¶å¤„ç†å‡½æ•°
    ç¼ºç‚¹å…¼å®¹æ€§IE9ä»¥ä¸‹ä¸æ”¯æŒï¼Œä½†æ˜¯å®ƒæ˜¯w3cçš„è§„èŒƒ
  -->
  <script>
    btnEl.addEventListener(
      "click",
      function () {
        console.log("addEventListener1", this);
      },
      false
    );
    btnEl.addEventListener(
      "click",
      function () {
        console.log("addEventListener2", this);
      },
      false
    );

    // ç›¸åŒå‡½æ•°çš„å¼•ç”¨å¤„ç†åªæ‰§è¡Œä¸€æ¬¡
    function once() {
      console.log("once", this);
    }
    btnEl.addEventListener("click", once, false);
    btnEl.addEventListener("click", once, false);

    // btnEl.removeEventListener('click', once, false)
  </script>

  <!-- 
    attachEvent(event, fn) IE
    IE8åŠä»¥ä¸‹çš„ç»‘å®šæ–¹æ³•
  -->
  <script>
    btnEl.attachEvent("onclick", function () {
      console.log("attachEvent", this); // this -> window
    });

    // btnEl.detachEvent('onclick', once)

    // ğŸŒ° å…¼å®¹æ€§å°è£…
    function addEvent(el, type, fn) {
      if (el.addEventListener) {
        el.addEventListener(type, fn, false);
      } else if (el.attachEvent) {
        el.attachEvent("on" + type, fn.bind(el));
      } else {
        el["on" + type] = fn;
      }
    }
    addEvent(btnEl, "click", function () {
      console.log("addEvent", this);
    });
  </script>
</html>
