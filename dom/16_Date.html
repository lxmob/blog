<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="e-clock"></div>
    <div class="countdown"></div>
  </body>

  <!-- 创建一个日期对象，如果不传递参数默认是当前最新的时间 -->
  <script>
    // 时间戳 1 * 24 * 60 * 60 * 1000
    // new Date(year, month, date, hours, minutes, seconds, ms);

    // 日期对象实例化，继承 -> Date.prototype 继承 -> Object.prototype
    var date = new Date();
    var _date = new Date('2023-12-31');
    var _1970 = new Date(0);
  </script>

  <!-- 日期对象方法 -->
  <script>
    date.getYear(); // 1900 年开始计算会导致千年虫、千禧年问题
    date.getDay(); // 返回日期一周内第几天 0-6 星期天是 0

    // 日期年月日
    date.getFullYear(); // 获取日期对应当前年份
    date.getMonth() + 1; // 返回日期一年内第几月 0-11 范围
    date.getDate(); // 返回日期一个月中的第几号 1-31

    // 日期时分秒毫秒
    date.getHours();
    date.getMinutes();
    date.getSeconds();
    date.getMilliseconds();

    date.getTime(); // 获取日期时间戳，计算机纪元时间 1970 年 1 月 1 日开始的毫秒数

    date.getUTCHours(); // UTC 时间世界协调时与 GMT 格林威治时间一样，只不过计算方法不一样
    date.getUTCMinutes();
    date.getUTCSeconds();
  </script>

  <!-- 定时器与计时器 -->
  <script>
    setTimeout('console.log(1)', 1000);
    setInterval(_csl, 1000);

    function _csl () {
      console.log('csl...');
    }
    var timeId = setTimeout(_csl, 1000); // 唯一标识
    console.log(timeId); // 随机id值
    clearTimeout(timeId);
  </script>

  <!-- 电子时钟 -->
  <script>
    function setZero (num) {
      return num < 10 ? '0' + num : num;
    }
    function showTime () {
      var date = new Date(),
          y = date.getFullYear(),
          m = date.getMonth() + 1,
          d = date.getDate(),
          h = date.getHours(),
          m = date.getMinutes(),
          s = date.getSeconds();
      return `${y}年${setZero(m)}月${setZero(d)}日 ${setZero(h)}点${setZero(m)}分钟${setZero(s)}秒`;
    }
    var eClockWrap = document.getElementsByClassName('e-clock')[0];
    setInterval(function () {
      eClockWrap.innerHTML = showTime();
    }, 1000)
  </script>

  <!-- 倒计时 -->
  <script>
    function countdown (endTime) {
      var endTime = new Date(endTime).getTime(),
          nowTime = new Date().getTime(),
          interval = (endTime - nowTime) / 1000,
          d = Math.floor(interval / 60 / 60 / 24),
          h = Math.floor((interval / 60 / 60) % 24),
          m = Math.floor((interval / 60) % 60),
          s = Math.floor(interval % 60);
      return `倒计时：${setZero(d)}天 ${setZero(h)}小时 ${setZero(m)}分钟 ${setZero(s)}秒`;
    }
    var countdownWrap = document.getElementsByClassName('countdown')[0];
    setInterval(function () {
      countdownWrap.innerHTML = countdown(new Date('2024-03-28'));
    }, 1000)
  </script>
</html>
