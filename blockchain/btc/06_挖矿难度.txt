比特币中挖矿难度
挖矿的过程就是在不断的尝试nonce，使H(block header) <= target
目标阈值越小挖矿难度越大，调整挖矿难度就是调整目标空间在整个输出空间所占用的比例
比特币中采用的是SHA-256算法产生的哈希值是256位，所以整个输出空间是2的256次方个可能取值
调整目标空间占用输出空间的比例，挖矿难度与目标阈值成反比

为什么要调整挖矿难度？
假设比特币不调整出块难度最开始参与的人少每10分钟出一个区块
后续会随着参与的人越多出块难度就会下降，科技的进步会产生新的矿机，导致出块时间越来越短

出块时间太短会产生什么问题？
假设出块时间为1秒，比特币底层网络传播这个区块的时间大概是几十秒
如果有两个节点同时收到这个区块然后又同时发布了区块，这个时候就会产生分叉
分叉过多会危害到共识机制的安全性，比特币是假设算力掌握在大部分诚实节点手中
系统的总算力越强安全性就越好，所遭受51%攻击的算力就越大
如果系统中存在多个分叉那么算力会被分散，节点在网络中位置的不同，可能会选择不同的分叉继续扩展
有恶意的节点就可以集中算力去攻击某个分叉，这样就可以让这个分叉变成最长合法链
因为这个时候诚实的节点算力被分散，那么恶意的节点采取攻击可能就不需要51%算力，也可能是10%
所以出块时间不是越短越好

怎么调整挖矿难度？
比特币协议中规定每隔2016个区块重新调整一下目标阈值，大概每两个星期调整一下
调整时间公式target = target * (实际时间(actual time)/期望时间(expected time))
比特币中调整难度的范围是增大或减小4倍，不会超过这个范围

如果有恶意节点不调整挖矿难度呢？
在block header中有一个nbits阈值，这个nbits指的是target的压缩编码
每个节点收到发布区块都需要验证合法性，如果有节点投机取巧设置目标数过大不符合协议规定
这个区块是不会被诚实节点所接受的

比特币系统中在以下问题中都存在争议
1.为什么出块时间要设计为10分钟
2.为什么每隔2016个区块要调整难度
3.为什么区块大小设计为1MB
目前暂时没有哪篇论文去解释satoshi这样设计是合理的，只能说这样设计是最保守的
