比特币分叉
1.当两个节点同时挖到矿了，这种属于临时性分叉(state fork)
2.当有恶意节点进行分叉攻击时，这种属于故意分叉(deliberate fork)
3.当系统有升级时，某些节点并没有遵从系统升级的协议，这种属于协议分叉(protocol fork)

根据协议修改内容的不同分叉
1.硬分叉(hard fork)
2.软分叉(soft fork)

什么是硬分叉？
当系统中出现新的功能(new feature)，一些节点不认可升级的特性
这种属于对比特币协议的内容中产生了意见分歧，就会导致硬分叉
历史上著名的硬分叉例子比特币扩容之争(block size limit 1MB)
比特币区块大小容量1MB，平均一笔交易占用字节数250bit，总区块容量交易条数4000条
按照比特币每10分钟一个区块，每秒只能处理大概7笔交易，对比visa卡处理交易数完全不是一个量级
所以社区中就出现了对区块大小进行扩容的支持者，但是并不是所有节点都会同意升级，这里面牵扯很多矿工的利益
只要是旧节点不去更新比特币客户端最新的协议，一直沿着旧链挖矿维护旧链，这种就属于硬分叉
而新节点会认为分叉出的两条链都是合法的，但是旧节点不会认同新节点那条链

比特币硬分叉的列表
https://en.wikipedia.org/wiki/List_of_bitcoin_forks

什么是软分叉？
如果对比特币协议新增协议限制，原来合法的区块在新的协议中就会导致不合法了，这时会导致软分叉
假设新协议规定区块大小由1MB缩减至0.5MB，那么新节点会认为旧节点维护的链不是合法的
但是旧节点会认为新节点所维护的链是合法的，最终旧节点会在新节点所维护的链上进行挖矿
如果旧节点不升级协议那么挖出来的区块始终是不合法的，最终两条链还是会合并，属于临时性分叉
历史上著名的软分叉例子P2SH(pay to script hash)
该升级描述的是在实际支付中，你要付给的地址不是public key而是赎回脚本(redeem script)
