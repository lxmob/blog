比特币分叉
临时分叉(state fork)，指两个节点同时挖到矿了
故意分叉(deliberate fork)，有恶意节点进行分叉攻击时
协议分叉(protocol fork)，系统有升级时，某些节点并没有遵从系统升级的协议，

根据协议修改内容的不同进行分叉分为硬分叉(hard fork)和软分叉(soft fork)


什么是硬分叉？
当系统中出现新的功能(new feature)或者回滚交易
旧节点不认同新节点所维护的那条链，旧节点会维护自己的合法链
而新节点不会在旧节点所维护的那条链上继续扩展

历史上著名的硬分叉例子比特币扩容之争(block size limit 1MB)
比特币最早区块大小容量为1MB，平均一笔交易占用字节数250bit，区块容量可包含交易条数4000条
按照比特币每10分钟一个区块，大概每秒只能处理7笔交易，对比visa卡处理交易数完全不是一个量级
所以社区中就出现了对区块大小进行扩容的支持者，但是并不是所有节点都会同意升级，这里面牵扯很多矿工的利益


什么是软分叉？
对比特币协议规定新增协议限制，向后兼容的更改
旧节点没有升级协议，继续在原来的链上继续扩展
新节点会认为，旧节点没有升级协议也不会影响到原本的链
所以新节点会沿着旧节点所发布的区块，继续扩展，最终两条链还是会合并

历史上著名的软分叉例子扩容之争隔离见证(segwit)
比特币核心开发者团队提出使用隔离见证的方式来解决扩容问题
隔离见证是将交易记录与数字签名的部分隔离开，通过新的数据结构去维护数字签名
使交易区块内容量大小不变的情况下达成扩容的目的
