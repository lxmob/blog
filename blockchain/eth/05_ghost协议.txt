以太坊将出块时间将至平均15秒，对比比特币将出块时间提高了40倍
如果以太坊沿用比特币的共识机制(pow)
这样大幅度降低出块时间也会产生问题，对于以太坊中临时性分叉就属于常态
因为每15秒产生一个区块，算力较强的矿池会沿着自己所发布的区块继续挖矿
受到区块在网络中传播速度的影响，对于其他个体或者算力较小的一部分矿工是不公平的
如果按照最长链原则，最终这些算力较小的矿工挖到的区块还是跑不赢矿池
这种就属于占便宜的，挖矿集中化(mining centralization)

以太坊就是参照ghost协议做了一些修改达成新共识(proof of stake)
该协议核心思想是假设你发布了区块，这个区块最后作废了，会给你一些补偿奖励
对于这些作废的区块，以太坊称它为叔父区块(uncle block)
以太坊中每发布一个区块奖励3个以太币，uncle block的出块奖励是(7/8)*3以太币
对于发布区块中的下一个子区块也就是当前区块它需要有uncle block
好处就是可以额外得到2*(1/32)*3以太币，一个区块最多可以包含两个uncle block

如果出现第三个uncle block呢？
如果算力较大的矿池有恶意的商业竞争，就不选择某一个uncle block呢？
修改协议，如果当前新发布区块没有选择某一个uncle block，继续往下挖子孙区块
子孙区块就可以选择之前出现的作废区块，作为uncle block获得额外奖励
以太坊中是不按照论资排辈的，统一按照uncle block作为处理，可以是隔代叔父块

假设有一个矿工一直发布uncle block就等着算力较大的矿池选择它的区块作为叔父块
怎么解决这个问题呢？
以太坊协议规定隔代的uncle block，按照与当前新发布区块的位置递减额外奖励
例如已经隔了2代的uncle block那么补偿奖励就是(6/8)*3以太币，直到隔6代的叔父块
不再给予补偿奖励，最后一个uncle block补偿奖励是(2/8)*3以太币
uncle block规定与新发布区块间隔7代以内(a most seven generation)
都是有补偿奖励的属于(uncle reward)，主要目的就是为了解决临时性分叉，鼓励合并

在比特币中奖励分为block reward和tx fee
其中block reward就是铸币交易奖励也属于静态奖励，而tx fee属于动态奖励
而以太坊中动态奖励是汽油费(gas fee)，一个区块中如果包含了智能合约
如果智能合约被执行了就可以得到gas fee，叔父区块中是得不到gas fee的

uncle block中的交易是不执行的，可能会与最长合法链上区块交易导致冲突
并且uncle block的发布其它全节点是要检查该区块是否符合难度要求
是不会检查uncle block中交易的合法性

以太坊规定只有分叉的第一个uncle block才会有补偿奖励
如果在uncle block分叉中继续进行挖矿，这样是不会得到补偿奖励

https://etherscan.io/
http://zhenxiao.com/blockchain/18-ETH.pdf
