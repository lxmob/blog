<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IIFEç«‹å³æ‰§è¡Œå‡½æ•°</title>
  </head>
  <body>
    <!-- 
      immediately invoked function expression ç«‹å³æ‰§è¡Œå‡½æ•°
      ç‰¹ç‚¹ï¼šé¡µé¢åŠ è½½æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œï¼Œæ‰§è¡Œå®Œæ¯•ç«‹å³é‡Šæ”¾è¯¥å‡½æ•°ã€‚
    -->
  </body>

  <!-- å®šä¹‰å’Œå£°æ˜ -->
  <script>
    // å†™æ³•ä¸€
    ;(function () {})()
    // å†™æ³•äºŒ
    ;(function(){}()) // w3cæ¨è
  </script>

  <!-- å¿½ç•¥å‡½æ•°åç§° -->
  <script>
    // ä¸ºä»€ä¹ˆç«‹å³æ‰§è¡Œå‡½æ•°ä¼šå¿½ç•¥å‡½æ•°åç§°ï¼Ÿ
    // ç«‹å³æ‰§è¡Œå‡½æ•°æœ¬èº«çš„ç‰¹ç‚¹ï¼Œæ‰§è¡Œå®Œæˆä¹‹ååœ¨å†…å­˜ä¸­é”€æ¯ï¼Œå¯¼è‡´åœ¨ä¹‹åç¯å¢ƒä¸­æ‰¾ä¸åˆ°è¯¥å‡½æ•°ã€‚
    console.log(test); // Uncaught ReferenceError: test is not defined;
    (function test() {
      var a = 1,
        b = 2;
      console.log(a + b);
    })();
    console.log(test); // Uncaught ReferenceError: test is not defined;
  </script>

  <!-- è¡¨è¾¾å¼ä¸æ‰§è¡Œç¬¦å· -->
  <script>
    // åªæœ‰è¡¨è¾¾å¼å½¢å¼æ‰èƒ½è¢«æ‰§è¡Œç¬¦å· () æ‰§è¡Œ
    (function add(a, b) {
      console.log(a + b);
    })(1, 2);

    // è¿™æ˜¯å‡½æ•°å£°æ˜å¹¶éè¡¨è¾¾å¼æ‰€ä»¥ä¼šæŠ¥é”™
    function test(a,b){}() // æŠ¥é”™

    // é€šè¿‡åŠ è¿ç®—ç¬¦å¯ä»¥å°†å‡½æ•°å£°æ˜å˜æˆè¡¨è¾¾å¼çš„æ–¹æ³•
    !function test() {
      console.log("test");
    }();
    -function test() {
      console.log("test");
    }();
    +function test() {
      console.log("test");
    }();
    1 || function test() {
      console.log("test");
    }();

    // ä¸æŠ¥é”™ï¼Œ(6) æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå¹¶ä¸æ˜¯æ‰§è¡Œç¬¦å· => function text(){};(6)
    function test() {}(6)
  </script>

  <!-- è¡¨è¾¾å¼ä¼šè‡ªåŠ¨å¿½ç•¥å‡½æ•°å -->
  <script>
    var test = function fn() {
      console.log(1);
    };
    console.log(fn); //  Uncaught ReferenceError: fn is not defined;

    // è¡¨è¾¾å¼ç«‹å³æ‰§è¡Œä¹‹åï¼Œåœ¨åŒ¿åå‡½æ•°åœ¨å†…å­˜ä¸­è¢«é”€æ¯ï¼Œæ‰€ä»¥ test æ‰“å°çš„å€¼æ˜¯ undefined
    var test = function () {
      console.log(2);
    };
    console.log(test); // fn

    var test = function () {
      console.log(2);
    }();
    console.log(test); // undefined

    // ä¸Šé¢çš„ ğŸŒ° å‡½æ•°å£°æ˜åŠ ä¸Šæ‰§è¡Œç¬¦å·ä¸ºè¿›è¡ŒæŠ¥é”™ï¼Œè¿™é‡Œç¬¬äºŒä¸ª ğŸŒ° æ€ä¹ˆæ²¡æœ‰æŠ¥é”™ï¼Ÿ
    // var test = function(){} ä½œä¸ºå‡½æ•°è¡¨è¾¾å¼ï¼Œä¸æ‰§è¡Œç¬¦å· () ç»„åˆï¼Œæ­¤æ—¶å‡½æ•°è¡¨è¾¾å¼ä¼šç«‹å³æ‰§è¡Œï¼Œ
    // è€Œ test å˜é‡æ¥æ”¶çš„ç»“æœå°±æ˜¯åŒ¿åå‡½æ•° function(){} ç«‹å³æ‰§è¡Œè¿”å›çš„ç»“æœã€‚
  </script>
</html>
