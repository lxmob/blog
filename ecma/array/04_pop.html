<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Array.prototype.pop方法</title>
  </head>
  <body>
    <!--  
      Array.prototype.pop()
      向源数组删除最后一个元素，返回被删除的数（如果数组为空则返回 undefined），改变原数组
    -->
  </body>

  <script>
    var arr = [4, 5, 6];
    console.log(arr.pop()); // 6
    console.log(arr.pop()); // 5
    console.log(arr.pop()); // 4
    console.log(arr.pop()); // undefined

    // 类数组对象的应用
    var obj = {
      length: 3,
      0: 'a',
      1: 'b',
      2: 'c',
      removeItem: function () {
        return [].pop.call(this);
      },
    };
    console.log(obj.removeItem());

    // 源码实现
    Array.prototype.pop = function () {
      cur = this[this.length - 1];
      this.length--;
      return cur;
    };
  </script>
</html>
