<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>è¯»å†™æ ·å¼ã€æ“ä½œä¼ªå…ƒç´ ã€å…ƒç´ è¿åŠ¨</title>
    <style>
      .box {
        color: #fff;
        width: 100px;
        height: 100px;
        padding: 10px;
        background-color: green;
      }
      .box::after {
        content: '';
        display: block;
        width: 50px;
        height: 50px;
        background-color: palevioletred;
      }
      .box.active::after {
        background-color: palegreen;
      }
    </style>
  </head>
  <body>
    <div class="box">box</div>
  </body>
  <script>
    var divEl = document.getElementsByTagName('div')[0]
    console.log(divEl.style.color)
    console.log(divEl.style)

    // ğŸŒŸ getComputedStyle æŸ¥çœ‹è®¡ç®—æ ·å¼ -> ç»å¯¹å€¼
    // console.log(window.getComputedStyle(divEl, null))
    // å…¼å®¹é—®é¢˜ IE8åŠä»¥ä¸‹ä¸æ”¯æŒï¼ˆIE8ä½¿ç”¨currentStyleï¼‰
    function getStyles(elem, prop) {
      if (window.getComputedStyle) {
        return prop
          ? window.getComputedStyle(elem, null)[prop]
          : window.getComputedStyle(elem, null)
      } else {
        return prop ? elem.currentStyle[prop] : elem.currentStyle
      }
    }
    console.log(getStyles(divEl)) // ç±»æ•°ç»„å¯¹è±¡

    // ğŸŒŸ offsetWidth å’Œ el.style.width æŸ¥æ‰¾çš„æœºåˆ¶ä¸ä¸€æ ·ï¼ŒoffsetWidthæ˜¯é€šè¿‡åº•å±‚æ¸²æŸ“å¼•æ“å¤§å°æ¥è¿”å›å°ºå¯¸
    // è€Œ el.style.width æ˜¯é€šè¿‡å…ƒç´ å±æ€§è¡Œå†…æ ·å¼æ¥è·å–å°ºå¯¸å¤§å°

    // ğŸŒ° jsè¿åŠ¨æ¡ˆä¾‹ offsetWidth å¯¼è‡´çš„é—®é¢˜
    divEl.onclick = function () {
      var width = this.offsetWidth // è·å–æ•´ä¸ªå…ƒç´ çš„æ¸²æŸ“å®½åº¦å¤§å°
      // var width = parseInt(getStyles(this, 'width'))
      this.style.width = width + 10 + 'px'
    }

    // ğŸŒŸ è¯»å–ä¼ªå…ƒç´ å±æ€§ï¼Œæ“ä½œä¼ªå…ƒç´ æ ·å¼
    console.log(window.getComputedStyle(divEl, 'after').width)
    divEl.onclick = function () {
      this.className += ' active'
    }
  </script>
</html>
