### 浏览器缓存

- 把已请求并返回的 WEB 资源（HTML 页面、图片、JS/CSS 文件、数据等）复制成一个副本存储在浏览器的缓存中
- 减少网络带宽的消耗、降低服务器压力、减少网络延迟

### Pragma

- HTTP1.0 字段表示如何缓存资源（http 协议向下兼容，所以很多网站依旧有这个字段）
- Pragma：`no-cache` 浏览器忽略资源缓存副本，每次访问需要到服务器获取

### Expires

- HTTP1.0 字段表示启用和定义缓存的过期时间，告诉浏览器资源缓存过期时间，如果还没过该时间点则不发请求
- Expires：`Mon, 15 Aug 2016 03:56:47 GMT`（格林威治时间，东区加西区减）

### Cache-Control

- HTTP1.1 字段表示如何缓存资源替代 Pragma（优先级高于前两者）
- no-cache：指示浏览器忽略缓存的资源副本，强制到服务器获取资源（浏览器依然缓存）
- no-store：强制不缓存在任何情况下都不要保留任何副本
- max-age=31536000：指示缓存副本的有效时长，从请求时间开始到过期时间之间的秒数
- public：表明响应资源可以被任何对象缓存（包括：发送请求的客户端，代理服务器等等）
- private: 表明响应只能被单个用户缓存，不能作为共享缓存（即代理服务器不能缓存它）

### 请求文件缓存过程

- 首先要看请求资源是否过期
- 如果过期：通过服务器返回的 Etag 和 Last-Modified 字段将请求头内 If-None-Match 和 If-Modified-Since 携带对应内容请求该资源，服务器收到请求后会对资源进行对比，Etag 优先级高于 Last-Modified 先验证 Etag 和 If-None-Match 一致的情况下再验证 Last-Modified 和 If-Modified-Since 是否一致
  - 200：资源被修改，返回响应资源更新字段
  - 304：读取缓存资源
- 如果没有过期：读取浏览器内存或磁盘缓存 200（form disk cache / form memory cache）
