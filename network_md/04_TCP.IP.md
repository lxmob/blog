### IP 是什么

- Internet Protocol Address 互联网协议地址、IP 地址
- 作用：分配给用户上网使用的互联网协议
- 分类：IPv4、IPv6、其它
- IPv4 版本：192.168.0.1（长度 32 位 4 个字节，十进制表示）
- IPv6 版本：fd00:6868:6868:0:fb:67d1:b02a:ae10（8 组 128 位，十六进制）
  - 路由表更小
  - 更高的安全性
  - 对自动配置的支持

### Port 是什么

- 端口号就是一个 IP 服务器中的某一项服务
- 举例：游乐园就是一个 IP 服务器，游乐园中的某项设施就是端口号（80、443）
- 范围：0 - 65535
- 默认端口：http 协议（80）、https 协议（443）、FTP 协议（20、21）

### TCP 是什么

- Transmission Control Protocol 传输控制协议
- 特点：面向连接（收发数据前，必须建立可靠的连接 -> 三次握手）
- 场景：数据必须准确无误的收发，HTTP 请求，FTP 文件传输，邮件收发
- 优点：稳定、重传机制、拥塞控制机制、断开连接
- 缺点：速度慢、效率低、占用资源、容易被攻击（三次握手 -> DOS、DDOS 攻击）
- TCP/IP 协议组：提供点对点的连接机制，制定了数据封装、定址、传输、路由、数据接收的标准

### UDP 是什么

- User Datagram Protocol 用户数据报协议
- 特点：面向无连接（不可靠的协议，无状态的传输机制）
- 场景：无需确保通讯质量和信息的完整，QQ、视频会议
- 优点：安全、快速、漏洞少（UDP flood 攻击）
- 缺点：不可靠、不稳定、容易丢包
- 总结：只要目标源地址、端口号确定，则可以发送消息报文，但不能保证一定能收到或收到完整数据

### 建立 TCP 连接三次握手

- 标志位：数据包
  - SYN：Synchronize Sequence Numbers 同步序列编号（发送包）
  - ACK：Acknowledgement 确认字符（确认包）
- 状态：
  - LISTEN：服务器侦听 TCP 端口的连接请求
  - SYN_SENT：在发送连接请求后等待匹配的连接请求
  - SYN_RECEIVED：在收到和发送一个连接请求后等待对连接请求的确认
  - ESTABLISHED：代表连接建立，数据可以传送给用户
- 第一次握手：客户端向服务器发送 SYN 标志位（序号是 J）并且进入 SYN_SENT 状态（等待服务器确认状态）
- 第二次握手：服务器收到来自客户端的 SYN-J，服务器会确认该数据包已收到并发送 ACK 标志位（序号是 J+1）和 SYN 标志位（序号是 K）服务器进入 SYN_RECEIVED 状态（请求接收并等待客户端确认状态）
- 第三次握手：客户端进入连接建立状态后，向服务器发送 ACK 标志位（序号是 K+1）确认客户端已收到建立连接确认，服务端收到 ACK 标志位后，服务端进入已建立连接状态
