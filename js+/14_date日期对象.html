<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Date日期对象</title>
  </head>
  <body>
    <div class="e-clock"></div>
    <div class="countdown"></div>
  </body>
  <!-- 
    创建一个日期对象，如果不传递参数默认是当前最新的时间，
    如果传递参数其中 month 参数计数从 0 开始，所以我们传递参数时 month + 1 月份。
  -->
  <script>
    // 时间戳 1 * 24 * 60 * 60 * 1000
    // new Date(year, month, date, hours, minutes, seconds, ms);

    // 日期对象实例化，继承 => Date.prototype 继承 => Object.prototype。
    var date = new Date();
    var _date = new Date("2017-04-08");
    var _1970 = new Date(0);
  </script>

  <!-- 日期对象方法 -->
  <script>
    date.getDate(); // 返回日期一个月中的第几号 1-31。
    date.getDay(); // 返回日期一周内第几天 0-6 星期天是 0。
    date.getMonth(); // 返回日期一年内第几月 0-11 1 月是 0。
    date.getYear(); // 1900 年开始，会导致千年虫问题，千年危机（不推荐使用）。
    date.getFullYear(); // 获取日期对应当前年份。

    // 返回日期时分秒毫秒。
    date.getHours();
    date.getMinutes();
    date.getSeconds();
    date.getMilliseconds();

    date.getTime(); // 获取日期时间戳，计算机纪元时间 1970 年 1 月 1 日开始的毫秒数。
  </script>

  <!-- 电子时钟 -->
  <script>
    function setZero(num) {
      return num < 10 ? "0" + num : num;
    }
    function showTime() {
      var date = new Date(),
        y = date.getFullYear(),
        m = date.getMonth() + 1,
        d = date.getDate(),
        h = date.getHours(),
        m = date.getMinutes(),
        s = date.getSeconds();
      return `${y}年${setZero(m)}月${setZero(d)}日 ${setZero(h)}点${setZero(m)}分钟${setZero(s)}秒`;
    }
    var eClockWrap = document.getElementsByClassName("e-clock")[0];
    setInterval(() => {
      eClockWrap.innerHTML = showTime();
    }, 1000);
  </script>

  <!-- 倒计时 -->
  <script>
    function countdown(endTime) {
      var endTime = new Date(endTime).getTime(),
        nowTime = new Date().getTime(),
        interval = (endTime - nowTime) / 1000,
        d = Math.floor(interval / 60 / 60 / 24),
        h = Math.floor((interval / 60 / 60) % 24),
        m = Math.floor((interval / 60) % 60),
        s = Math.floor(interval % 60);
      return `倒计时：${setZero(d)}天 ${setZero(h)}小时 ${setZero(m)}分钟 ${setZero(s)}秒`;
    }
    var countdownWrap = document.getElementsByClassName("countdown")[0];
    setInterval(() => {
      countdownWrap.innerHTML = countdown(new Date('2024-03-28'));
    }, 1000);
  </script>
</html>
