<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>strictmode严格模式</title>
  </head>
  <body></body>
  <!--
    严格模式
      消除 Javascript 语法的一些不合理、不严谨之处，减少一些怪异行为。
      消除代码运行的一些不安全之处，保证代码运行的安全。
      提高编译器效率，增加运行速度。

      注意：IE9 及以下 IE 不支持严格模式。
  -->
  <script>
    "use strict";

    // 1. 无法再意外创建全局变量
    c = 100;

    // 2. 给不可写属性赋值、给只读属性赋值、给不可扩展对象的新属性赋值
    var obj = {
      get age() {
        return 18;
      },
    };
    Object.defineProperty(obj, "name", { value: "nice", writable: false });
    // obj.name = 'is not writable'
    // obj.age = 26
    Object.preventExtensions(obj);
    obj.eat = "apple";

    // 3. 试图删除不可删除的属性
    delete Object.prototype;

    // 4. 函数形参名称要求唯一
    function sum(a, a) {
      return a;
    }

    // 5. 不能使用 with 表达式
    with (window) {
    }

    // 6. eval 作用域声明的变量严格模式下无法访问
    eval("var num = 1");
    console.log(num);

    // 7. 禁止删除声明变量
    var obp = 10;
    delete obp;

    // 8. 不再支持 arguments.callee、fn.caller，arguments 的值不再随着形参的改变
    function sum(a) {
      a = 100;
      arguments[0] = 100;
      console.log(a, arguments[0]);
      console.log(arguments.callee);
      console.log(sum.caller);
    }
    sum(10);

    // 9. 函数中的 this 默认为 undefined
    console.log(this);
    function that() {
      console.log(this);
    }
    that();
  </script>
</html>
